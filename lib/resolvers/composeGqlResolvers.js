const pluralize=require("pluralize"),{DateTime}=require("@okgrow/graphql-scalars"),createThingQueryResolver=require("./queries/createThingQueryResolver"),createThingsQueryResolver=require("./queries/createThingsQueryResolver"),composeThingResolvers=require("./types/composeThingResolvers"),createCreateThingMutationResolver=require("./mutations/createCreateThingMutationResolver"),createUpdateThingMutationResolver=require("./mutations/createUpdateThingMutationResolver"),createDeleteThingMutationResolver=require("./mutations/createDeleteThingMutationResolver"),composeGqlResolvers=a=>{const b={DateTime,Query:{},Mutation:{},Subscription:{}};return a.filter(({isEmbedded:a})=>!a).reduce((a,b)=>{const{name:c}=b,d=createThingQueryResolver(b);a.Query[c]=d;const e=createThingsQueryResolver(b);// eslint-disable-next-line no-param-reassign
a.Query[pluralize(c)]=e;const f=createCreateThingMutationResolver(b);// eslint-disable-next-line no-param-reassign
a.Mutation[`create${c}`]=f;const g=createUpdateThingMutationResolver(b);// eslint-disable-next-line no-param-reassign
a.Mutation[`update${c}`]=g;const h=createDeleteThingMutationResolver(b);// eslint-disable-next-line no-param-reassign
return a.Mutation[`delete${c}`]=h,a},b),a.reduce((a,b)=>{const{name:c,duplexFields:d,geospatialFields:e,relationalFields:f}=b;return(d||e||f)&&(a[c]=composeThingResolvers(b)),a},b),b};module.exports=composeGqlResolvers;