const createThingSchema=require("../../mongooseModels/createThingSchema"),getProjectionFromInfo=require("../getProjectionFromInfo"),createThingScalarResolver=(a,b)=>{return async(c,d,e,f)=>{const{fieldName:g}=f,h=c[g];if(!h||!h.length)return[];const{mongooseConn:i}=e,j=createThingSchema(a,b),{name:k}=a,l=i.model(k,j),m=getProjectionFromInfo(f),n=await l.find({_id:{$in:h}},m,{lean:!0}),o=n.map(a=>({...a,id:a._id// eslint-disable-line no-underscore-dangle
}));return o}};module.exports=createThingScalarResolver;