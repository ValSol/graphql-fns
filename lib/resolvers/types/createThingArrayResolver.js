const createThingSchema=require("../../mongooseModels/createThingSchema"),getProjectionFromInfo=require("../getProjectionFromInfo"),createThingScalarResolver=a=>{return async(b,c,d,e)=>{const{fieldName:f}=e,g=b[f];if(!g||!g.length)return[];const{mongooseConn:h}=d,i=createThingSchema(a),{name:j}=a,k=h.model(j,i),l=getProjectionFromInfo(e),m=await k.find({_id:{$in:g}},l,{lean:!0}),n=m.map(a=>({...a,id:a._id// eslint-disable-line no-underscore-dangle
}));return n}};module.exports=createThingScalarResolver;