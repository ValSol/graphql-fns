const fs=require("fs"),createThingSchema=require("../../mongooseModels/createThingSchema"),createThingScalarResolver=(a,b)=>{return async(c,d,e,f)=>{const g=c[b];if(!g.length)return[];const{mongooseConn:h}=e,i=createThingSchema(a),{thingName:j}=a,k=await h.model(j,i),l=await k.find({_id:{$in:g}}),m=l.map(a=>{const b=a.toObject();// eslint-disable-next-line no-underscore-dangle
return b.id=b._id,b}),n="***************************************\n",o=`${n}${b}\n${n}${g}\n${n}${f}\n${n}${JSON.stringify(f,null," ")}\n${n}`;return fs.writeFileSync("array-thing.log",o),m}};module.exports=createThingScalarResolver;