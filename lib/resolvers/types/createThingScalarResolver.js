const fs=require("fs"),createThingSchema=require("../../mongooseModels/createThingSchema"),getProjectionFromInfo=require("../getProjectionFromInfo"),createThingScalarResolver=a=>{return async(b,c,d,e)=>{const{fieldName:f}=e,g="***************************************\n",h=`${g}${f}\n${g}${JSON.stringify(b,null," ")}\n${g}${JSON.stringify(e,null," ")}\n${g}`;fs.writeFileSync("scalar-thing.log",h);const i=b[f];if(!i)return null;const{mongooseConn:j}=d,k=createThingSchema(a),{name:l}=a,m=await j.model(l,k),n=getProjectionFromInfo(e),o=await m.findById(i,n),p=o.toObject(),{_id:q}=p;return p.id=q,p}};module.exports=createThingScalarResolver;