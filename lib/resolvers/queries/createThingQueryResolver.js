const createThingSchema=require("../../mongooseModels/createThingSchema"),getProjectionFromInfo=require("../getProjectionFromInfo"),createThingQueryResolver=a=>{return async(b,c,d,e)=>{const{where:f}=c,{mongooseConn:g}=d,h=createThingSchema(a),{name:i}=a,j=g.model(i,h),k=Object.keys(f);if(1!==k.length)throw new TypeError("Expected exactly one key in where arg!");const l=f.id?{_id:f.id}:f,m=getProjectionFromInfo(e),n=await j.findOne(l,m,{lean:!0});if(!n)return null;const{_id:o}=n;return n.id=o,n}};module.exports=createThingQueryResolver;