const createThingSchema=require("../../mongooseModels/createThingSchema"),getProjectionFromInfo=require("../getProjectionFromInfo"),createThingQueryResolver=(a,b)=>{const{enums:c}=b;return async(b,d,e,f)=>{const{where:g}=d,{mongooseConn:h}=e,i=createThingSchema(a,c),{name:j}=a,k=h.model(j,i),l=Object.keys(g);if(1!==l.length)throw new TypeError("Expected exactly one key in where arg!");const m=g.id?{_id:g.id}:g,n=getProjectionFromInfo(f),o=await k.findOne(m,n,{lean:!0});if(!o)return null;const{_id:p}=o;return o.id=p,o}};module.exports=createThingQueryResolver;