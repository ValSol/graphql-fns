const createThingSchema=require("../../mongooseModels/createThingSchema"),getProjectionFromInfo=require("../getProjectionFromInfo"),createThingsQueryResolver=a=>{return async(b,c,d,e)=>{const{where:f}=c,{mongooseConn:g}=d,h=createThingSchema(a),{name:i}=a,j=g.model(i,h),k=getProjectionFromInfo(e),l=await j.find(f||{where:f},k,{lean:!0});if(!l)return[];const m=l.map(a=>{const{_id:b}=a;return{...a,id:b}});return m}};module.exports=createThingsQueryResolver;