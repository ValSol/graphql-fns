const pointFromGqlToMongo=require("./pointFromGqlToMongo"),polygonFromGqlToMongo=require("./polygonFromGqlToMongo"),processCreateInputData=(a,b)=>{const{geospatialFields:c}=b,d={};return c&&c.reduce((a,{name:b,array:c,type:d})=>(a[b]={array:c,type:d},a),d),Object.keys(a).reduce((b,c)=>{if(d[c]){const{array:e,type:f}=d[c];e?("Point"===f&&(b[c]=a[c].map(a=>pointFromGqlToMongo(a))),"Polygon"===f&&(b[c]=a[c].map(a=>polygonFromGqlToMongo(a)))):("Point"===f&&(b[c]=pointFromGqlToMongo(a[c])),"Polygon"===f&&(b[c]=polygonFromGqlToMongo(a[c])))}else// eslint-disable-next-line no-param-reassign
b[c]=a[c];return b},{})};module.exports=processCreateInputData;