const fs=require("fs"),createThingSchema=require("../../mongooseModels/createThingSchema"),transformInputData=require("./transformInputData"),createCreateThingMutationResolver=a=>{return async(b,c,d,e)=>{const{data:f}=c,{mongooseConn:g}=d,{name:h}=a,i=createThingSchema(a),j=transformInputData(f,a),k=await g.model(h,i),l=await k.create(j),m=l.toObject(),n="***************************************\n",o=`${n}${JSON.stringify(c,null," ")}\n${n}${JSON.stringify(m,null," ")}\n${n}${e}\n${n}${JSON.stringify(e,null," ")}\n${n}`;fs.writeFileSync("create-thing.log",o);const{_id:p}=m;return m.id=p,m}};module.exports=createCreateThingMutationResolver;